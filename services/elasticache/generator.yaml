resources:
  CacheSubnetGroup:
    exceptions:
      errors:
        404:
          code: CacheSubnetGroupNotFoundFault
      terminal_codes:
        - CacheSubnetGroupQuotaExceeded
        - CacheSubnetQuotaExceededFault
        - SubnetInUse
        - InvalidSubnet
        - InvalidParameter
        - InvalidParameterValue
        - InvalidParameterCombination
    fields:
      Events:
        is_read_only: true
        from:
          operation: DescribeEvents
          path: Events
  ReplicationGroup:
    update_conditions_custom_method_name: CustomUpdateConditions
    exceptions:
      terminal_codes:
        - InvalidParameter
        - InvalidParameterValue
        - InvalidParameterCombination
        - InsufficientCacheClusterCapacity
        - CacheSecurityGroupNotFound
        - CacheSubnetGroupNotFoundFault
        - ClusterQuotaForCustomerExceeded
        - NodeQuotaForClusterExceeded
        - NodeQuotaForCustomerExceeded
        - InvalidVPCNetworkStateFault
        - TagQuotaPerResourceExceeded
        - NodeGroupsPerReplicationGroupQuotaExceeded
        - InvalidCacheSecurityGroupState
        - CacheParameterGroupNotFound
        - InvalidKMSKeyFault
    fields:
      AllowedScaleUpModifications:
        is_read_only: true
        from:
          operation: ListAllowedNodeTypeModifications
          path: ScaleUpModifications
      AllowedScaleDownModifications:
        is_read_only: true
        from:
          operation: ListAllowedNodeTypeModifications
          path: ScaleDownModifications
      Events:
        is_read_only: true
        from:
          operation: DescribeEvents
          path: Events
  Snapshot:
    update_conditions_custom_method_name: CustomUpdateConditions
    exceptions:
      terminal_codes:
        - InvalidParameter
        - InvalidParameterValue
        - InvalidParameterCombination
        - SnapshotAlreadyExistsFault
        - CacheClusterNotFound
        - ReplicationGroupNotFoundFault
        - SnapshotQuotaExceededFault
        - SnapshotFeatureNotSupportedFault
    fields:
      SourceSnapshotName:
        from:
          operation: CopySnapshot
          path: SourceSnapshotName
    update_operation:
      custom_method_name: customUpdateSnapshot
  CacheParameterGroup:
    exceptions:
      terminal_codes:
        - CacheParameterGroupAlreadyExists
        - CacheParameterGroupQuotaExceeded
        - InvalidCacheParameterGroupState
        - InvalidGlobalReplicationGroupState
        - InvalidParameterCombination
        - InvalidParameterValue
    fields:
      ParameterNameValues:
        from:
          operation: ModifyCacheParameterGroup
          path: ParameterNameValues
      Parameters:
        is_read_only: true
        from:
          operation: DescribeCacheParameters
          path: Parameters
      Events:
        is_read_only: true
        from:
          operation: DescribeEvents
          path: Events
    update_operation:
      custom_method_name: customUpdateCacheParameterGroup
  User:
    exceptions:
      terminal_codes:
        - UserAlreadyExists
        - UserQuotaExceeded
        - DuplicateUserName
        - InvalidParameterValue
        - InvalidParameterCombination
        - InvalidUserState
        - UserNotFound
        - DefaultUserAssociatedToUserGroup
    fields:
      LastAppliedAccessString:
        is_read_only: true
        from:
          operation: CreateUser
          path: AccessString
      ResponseAccessString:
        is_read_only: true
        from:
          operation: CreateUser
          path: AccessString
operations:
  DescribeCacheSubnetGroups:
    set_output_custom_method_name: CustomDescribeCacheSubnetGroupsSetOutput
  DescribeReplicationGroups:
    set_output_custom_method_name: CustomDescribeReplicationGroupsSetOutput
  CreateReplicationGroup:
    set_output_custom_method_name: CustomCreateReplicationGroupSetOutput
  ModifyReplicationGroup:
    custom_implementation: CustomModifyReplicationGroup
    set_output_custom_method_name: CustomModifyReplicationGroupSetOutput
    override_values:
      ApplyImmediately: true
  CreateSnapshot:
    custom_implementation: CustomCreateSnapshot
    set_output_custom_method_name: CustomCreateSnapshotSetOutput
  DescribeSnapshots:
    set_output_custom_method_name: CustomDescribeSnapshotSetOutput
  CreateCacheParameterGroup:
    set_output_custom_method_name: CustomCreateCacheParameterGroupSetOutput
  DescribeCacheParameterGroups:
    set_output_custom_method_name: CustomDescribeCacheParameterGroupsSetOutput
  CreateUser:
    set_output_custom_method_name: CustomCreateUserSetOutput
  ModifyUser:
    custom_implementation: CustomModifyUser
    set_output_custom_method_name: CustomModifyUserSetOutput
ignore:
  resource_names:
    - GlobalReplicationGroup
    - CacheCluster
    - CacheSecurityGroup
  field_paths:
    - DescribeSnapshotsInput.CacheClusterId
    - DescribeSnapshotsInput.ReplicationGroupId
    - DescribeSnapshotsInput.SnapshotSource
    - ModifyReplicationGroupInput.SecurityGroupIds
    - ModifyReplicationGroupInput.EngineVersion